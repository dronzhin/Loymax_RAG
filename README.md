# Прототип сервиса вопрос-ответ (Q&A) на основе RAG архитектуры

## Задача

Разработать прототип сервиса вопрос-ответ (Q&A) на основе RAG архитектуры. Система должна:

- Принимать текстовый вопрос пользователя.
- Находить наиболее релевантные фрагменты информации из предоставленного набора документов (knowledge base).
- Использовать LLM для генерации полного, информативного ответа на основе найденных фрагментов.
- Быть реализована как набор взаимодействующих микросервисов/компонентов, готовых к контейнеризации и развертыванию.
- Иметь потенциал для горизонтального масштабирования.

## Данные

[Ссылка на данные](https://raw.githubusercontent.com/vladislavneon/RuBQ/refs/heads/master/RuBQ_2.0/RuBQ_2.0_paragraphs.json)

### Структура данных

- **uid**: уникальный идентификатор фрагмента.
- **ru_wiki_pageid**: ID страницы википедии.
- **text**: текстовый фрагмент о ЦСКА (история, матчи, игроки и т.д.). 

## Анализ данных

### Пропуски
- В данных нет пропусков. Все столбцы содержат **56,952** записи.

### Уникальные значения
- **uid**: 56,952 уникальных значения.
- **ru_wiki_pageid**: 9,105 уникальных значений.
- **text**: 56,826 уникальных текстовых записей.

### Минимальное и максимальное количество символов
- **text**: Минимальная длина текста составляет **1** символ, а максимальная — **11,010** символов.

#### Примеры записей с минимальным текстом

| uid    | text | text_length |
|--------|------|-------------|
| 43257  | Глаз | 4           |
| 43467  | Болт | 4           |
| 41914  | Синин| 5           |
| 11493  | Дакар| 5           |
| 44505  | Кронос| 6          |
| 47097  | Парана| 6          |
| 44877  | R.E.M.| 6          |
| 39789  | Церера| 6          |
| 14068  | Сурими| 6          |
| 19556  | Сезон 1| 7         |
| 46208  | Пётр I;| 7         |
| 19560  | Сезон 2| 7         |

#### Выводы

Анализ данных показал, что многие записи содержат слова или предложения, вырванные из контекста, что значительно снижает их информативность. Например, запись "Сезон 2" указывает на то, что последующие данные относятся именно к этому сезону. Для сохранения информативности имеет смысл объединить такие данные.

## Анализ данных после объединения по `ru_wiki_pageid`, очистки текста и удаления дубликатов

### Пропуски
- В данных отсутствуют пропуски. Все столбцы содержат **9,104** записи.

### Минимальная и максимальная длина текста
- **text**: 
  - Минимальная длина: **27** символов
  - Максимальная длина: **102,332** символов

### Минимальная и максимальная длина текста после разделения на равномерные части, каждая из которых не превышает 20,000 символов
- **text**:
  - содержат **9,214** записи
  - Минимальная длина: **27** символов
  - Максимальная длина: **19,584** символов
